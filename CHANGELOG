# ChangeLog for <app-clip>/<rm-sessions>

  15 Jan 2016; Yves-Alexis Perez <clipos@ssi.gouv.fr>
  +rm-sessions-1.8.2.ebuild:
  Add amd64 keyword.

*rm-sessions-1.8.2 (21 Feb 2014)

  21 Feb 2014; Mickaël Salaün <clipos@ssi.gouv.fr>
  +rm-sessions-1.8.2.ebuild, -rm-sessions-1.8.1.ebuild:
  Set PAGER and EDITOR environment variables.

*rm-sessions-1.8.1 (20 Dec 2013)

  20 Dec 2013; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.8.1.ebuild, -rm-sessions-1.8.0.ebuild:
  Create $HOME/.clip directory before running clip-user-data-update
  scripts.

*rm-sessions-1.8.0 (12 Dec 2013)

  12 Dec 2013; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.8.0.ebuild, -rm-sessions-1.7.1.ebuild:
  Support user-defined locales (in $HOME/.clip/locale), and
  per-package env var definition in {/usr/local,}/etc/env.d/*.

*rm-sessions-1.7.1 (15 Nov 2013)

  15 Nov 2013; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.7.1.ebuild, -rm-sessions-1.7.0.ebuild:
  Define PRINTER as the default printer at session start.

*rm-sessions-1.7.0 (16 Apr 2012)

  16 Apr 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.7.0.ebuild, -rm-sessions-1.6.0.ebuild:
  Support xfce as an alternate environment.

*rm-sessions-1.6.0 (17 Jan 2012)

  17 Jan 2012; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.6.0.ebuild, -rm-sessions-1.5.0.ebuild,
  +files/conv2utf8:
  Switch default encoding to UTF-8. Add a user data update
  script to convert filenames.

*rm-sessions-1.5.0 (28 Sep 2011)

  28 Sep 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.5.0.ebuild, -rm-sessions-1.4.5.ebuild:
  Remove support for kde3.

*rm-sessions-1.4.5 (19 May 2011)

  19 May 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.4.5.ebuild, -rm-sessions-1.4.4.ebuild:
  Add mount.rm script.

*rm-sessions-1.4.4 (22 Apr 2011)

  22 Apr 2011; Mickaël Salaün <clipos@ssi.gouv.fr>
  +rm-sessions-1.4.4.ebuild, -rm-sessions-1.4.3.ebuild:
  Add kde4/libexec to PATH.

*rm-sessions-1.4.3 (12 Jan 2011)

  12 Jan 2011; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.4.3.ebuild, -rm-sessions-1.4.2.ebuild:
  Add a proper definition of G_FILENAME_ENCODING for glib/gtk 
  apps.

*rm-sessions-1.4.2 (21 Apr 2010)

  21 Apr 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.4.2.ebuild, -rm-sessions-1.4.1.ebuild:
  Add failsafe mode: when too litlle space is available in 
  a user's home fs, run with HOME=/tmp and advise user 
  to free up some space.

*rm-sessions-1.4.1 (08 Feb 2010)

  08 Feb 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.4.1.ebuild, -rm-sessions-1.4.0.ebuild:
  Fix XDG_DATA_DIRS.

*rm-sessions-1.4.0 (18 Jan 2010)

  18 Jan 2010; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.4.0.ebuild, -rm-sessions-1.3.1.ebuild:
  Use a separate file for environment, to be usable by 
  other scripts. Remove non-kde (iceWM) support.

*rm-sessions-1.3.1 (28 Dec 2009)

  28 Dec 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.3.1.ebuild, -rm-sessions-1.3.0.ebuild:
  Switch to QtCurve default GTK+ theme.

*rm-sessions-1.3.0 (13 Nov 2009)

  13 Nov 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.3.0.ebuild:
  Initial import of kde4 version, still in ~x86 for now.

*rm-sessions-1.2.10 (08 Oct 2009)

  08 Oct 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.10.ebuild, -rm-sessions-1.2.9.ebuild:
  Fix HTTP_PROXY import regexp.

*rm-sessions-1.2.9 (28 Sep 2009)

  28 Sep 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.9.ebuild, -rm-sessions-1.2.8.ebuild:
  Switch default locale to fr_FR@euro.

*rm-sessions-1.2.8 (16 Sep 2009)

  16 Sep 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.8.ebuild, -rm-sessions-1.2.7.ebuild:
  Add user-defined gtkrc paths.

*rm-sessions-1.2.7 (31 Aug 2009)

  31 Aug 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.7.ebuild, -rm-sessions-1.2.6-r1.ebuild:
  Export http_proxy, etc. from /etc/admin/proxy.

*rm-sessions-1.2.6-r1 (17 Aug 2009)

  17 Aug 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.6-r1.ebuild, -rm-sessions-1.2.6.ebuild:
  Bump : allow tigervnc instead of tightvnc as dependency.

*rm-sessions-1.2.6 (23 Jun 2009)

  23 Jun 2009; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.6.ebuild, -rm-sessions-1.2.5.ebuild:
  Export GTK2_RC_FILES, to prevent kcontrol kstyles module from
  positionning it wrong afterwards.

*rm-sessions-1.2.5 (11 Jul 2007)

  21 Nov 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.5.ebuild,-rm-sessions-1.2.4.ebuild
  Change 'admin' to '_admin', use 127.0.0.1 as local address for 
  xterm-session.sh.
  Call xsetroot for xterm-session.sh to avoid the 'spotty X11 background'.

  19 Nov 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.4.ebuild,-rm-sessions-1.2.3-r1.ebuild:
  Late update of RM sessions, mea culpa.

  07 Nov 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  Remove stale ebuilds before 1.2.3-r1.

*rm-sessions-1.2.3-r1 (11 Jul 2007)

  11 Jul 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.3-r1.ebuild:
  Remove dependency on jailmaster, which is ESSENTIAL anyway.
  
*rm-sessions-1.2.4 (08 Oct 2007)

  08 Oct 2007; EADS D&S <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.4.ebuild:
  Launch clip-update-user-data script.

*rm-sessions-1.2.3 (07 Jun 2007)

  07 Jun 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.3.ebuild:
  Bump, use new ${LOCAL_ADDR} as IP in xterm-session.sh. Depends
  on a specific jailmaster version, which requires moving jailmaster
  to the /update subtree.

*rm-sessions-1.2.2 (11 Apr 2007)

  11 Apr 2007; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.2.ebuild:
  Add support for a KDE session in RM_H/B, rather than the original
  icewm. Activated through IUSE kde.
  
*rm-sessions-1.2.1 (08 Sept 2006)

  08 Sept 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.1.ebuild:
  Bump, just to adjust xterm's size :)

*rm-sessions-1.2.0 (21 Aug 2006)

  21 Aug 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.2.0.ebuild:
  Version bump, added admin-session.sh, to support RM local 
  administration. This calls an xterm-session.sh, similarly to
  user-session/ice-session. Even though this isn't actually needed,
  it makes it easier to pass the proper args to xinit...

*rm-sessions-1.1.0 (03 Aug 2006)

  03 Aug 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.1.0.ebuild:
  Version bump following import of sys-auth/pam_mount (-0.15.0).
  Unmounting encrypted homes on user logout requires that all 
  processes using $HOME be killed. On the other hand, we need
  user-session.sh to not be killed, since it has to wait on 
  XClip exit to properly remove X11 tmp locks. Thus we do not
  cd to $HOME in user-session.sh, and avoid piping std{out,err} to
  $HOME files in the devel version (piping them to /tmp instead),
  thus freeing user-session.sh of any $HOME interaction.
  
  On the other hand we still need the actual user session to cd 
  into $HOME because 1. We'd rather have that as $CWD for every 
  end-user application and 2. We need to check that we can actually 
  cd to $HOME, or else we should stop right then (mainly because 
  that usually means the crypto home was not mounted, and thus 
  $FUSER -km $HOME from pam_mount will -in the rm namespace- refer
  to the '/' mount point, and thus kill all rm processes, including 
  jailmaster, update services, etc...). Thus we now have user-session.sh
  passing an ice-session.sh as $SESSION to XClip, with ice-session.sh 
  (added to this package, hence the medium version number bump) in 
  turn cd'ing to $HOME (or dying trying), before executing icewm-session.
  Yep. So what was wrong with paper and pen, again ?

  On the ebuild side, finally got rid of the clip-<appli> USE and deps,
  leaving those problems for the build spec.

*rm-sessions-1.0.7 (31 Jul 2006)

  31 Jul 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.7.ebuild:
  Version bump that removes the {firefox,thunderbird,xpdf}.sh scripts.
  Those will now be provided by mozilla-firefox, etc when needed.

*rm-sessions-1.0.6 (27 Jul 2006)

  27 Jul 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.6.ebuild:
  Update for a /usr/local path.

*rm-sessions-1.0.5 (12 Jul 2006)

  12 Jul 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.5.ebuild:
  Version bump. user-session.sh now launches XClip in the background,
  so that it can return immediately (jailmaster is waiting on it), 
  while XClip waits for xinit to return.
  Also add a clip-devel IUSE that selects a more or less verbose 
  user-session.sh.

*rm-sessions-1.0.4 (23 Jun 2006)

  23 Jun 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.4.ebuild:
  Version bump, just adding some logging to files in the user's home for
  XClip.

*rm-sessions-1.0.3 (03 May 2006)
  
  03 May 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.3.ebuild:
  Add support for xpdf, which also needs a launcher script 
  because of the openmotif dependency.

  24 Apr 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  rm-sessions-1.0.2.ebuild:
  USE flags consistency : clip_* -> clip-*

*rm-sessions-1.0.2 (20 apr 2006)
  20 apr 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.2.ebuild:
  Bump, modifications to user-session.sh: perform username checks,
  export HOME, and cd to it before starting (needed by xterm among 
  others)

*rm-sessions-1.0.1 (13 apr 2006)
  13 apr 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.1.ebuild:
  Start icewm-session by default. Set up french language.
  Add a simple thunderbird.sh script to launch thundie without 
  calling mozilla-launcher, which is a bash-ified pain in the bum.
  Switch to makefile install.

*rm-sessions-1.0 (12 apr 2006)
  12 apr 2006; Vincent Strubel <clipos@ssi.gouv.fr>
  +rm-sessions-1.0.ebuild:
  Initial import.
